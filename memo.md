# 開発メモ

## 過去の検討事項
Seleniumに変更したいが問題点。

未受講の受講を現在手動で選んでいる。これは手動でやりたい。

受講の終了の判定を現在、画像認識でやっている。これをどうやるか。

---

## 引き継ぎ（2026/02/08）

### 現在の状態
`mp_learning_selenium.py` に以下の機能を実装済み：
- 基本的な自動受講機能（動画再生、次の学習へ進む、テスト自動回答、アンケート閉じる）
- GUIに「講座予約」セクション追加（リストボックス、予約ボタン、削除ボタン、連続受講ボタン）

### 未完了の課題：連続受講機能

**問題点：**
1. 講座URLをダイレクトに開いても動画が再生されない（サーバー側で何か処理が必要）
2. マイページの講座リンクをクリックする方式に変更しようとしたが、講座がどこにあるかによってリンクの構造が異なる

**判明した講座リンクの構造：**
- 新着講座: `id="linkNewLessonPC-{講座ID}"` + `onclick="lnkNewLesson_OnClick(...)"`
- アコーディオンメニュー内の講座: HTMLダンプに含まれていない（動的ロード？）

**次にやるべきこと：**
1. アコーディオンを開いた状態のマイページHTMLを保存してもらい、講座リンクの構造を確認
2. または、別のアプローチを検討：
   - 講座リンクの位置情報（XPath）を予約時に保存
   - コンテンツ検索ページから講座を探してクリック
   - Selenium以外（pyautogui等）と組み合わせ

**参考：HTMLダンプファイル**
- `dump_1770516719_0_マイページ _ MPラーニング _ 公益財団法人日本薬剤師研.html`
